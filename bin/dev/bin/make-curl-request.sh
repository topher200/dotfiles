#!/bin/bash

# generate FOC request
# curl -X POST -H "Accept: */*" -H "Origin: http://lh.wordstream.com:8000" -H "X-Requested-With: XMLHttpRequest" -H "User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36" -H "Content-Type: application/json; charset=UTF-8" -H "Referer: http://lh.wordstream.com:8000/facebook-calculator/page-selection" -H "Accept-Encoding: gzip, deflate" -H "Accept-Language: en-US,en;q=0.8" -H "Cookie: __cdrop=.GBU6VJ.; __distillery=v20150227_fc8e5dea-2e1b-4e1c-8b69-1077acac8658; SnapABugHistory=6#; mktz_sess=ses1801318368ion; mktz_sess=ses618758142ion; ws_last_vst_social_ts=1462224640; myref_1=https%3A%2F%2Fwww.google.com%2F; myref_2=https%3A%2F%2Fwww.google.com%2F; mycmp=none; mysrc=none; tstamp=1462498207001; mktz_ab=%7B%7D; __utma=263978762.1327759123.1455899637.1458920341.1463978753.6; __utmc=263978762; __utmz=263978762.1456354419.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); sso_p=IjEhQCMkJSVeJiooKWVKeFRjaWd2VGt6SnpjeXJpZlN2OUM4dzk4NHR6YkxJTGpmTWNnc29TelQyTXN1MXJERlVBZ0QtYVF6SyI.CiQqMA.rwi578R0u9hbQo3OdWdtAmYTFZE; navp=%20%3E%20%20%3E%20services%20%3E%20%20%3E%20services%20%3E%20%20%3E%20google-adwords%3Fcamplink%3Dhomepagespotlight%26campname%3DGrader%26cid%3DWeb_Any_Homepage_AdWords_AdWordsGrader_AWGrader%20%3E%20%20%3E%20blogws20160524google-mobile-first%20%3E%20; __unam=b61e6e7-1530b23c13e-356650b3-9; mktz_client=%7B%22is_returning%22%3A%221%22%2C%22uid%22%3A%221492883882940845333%22%2C%22session%22%3A%22ses618758142ion%22%2C%22views%22%3A1%2C%22referer_url%22%3A%22%22%2C%22referer_domain%22%3A%22%22%2C%22referer_type%22%3A%22direct%22%2C%22visits%22%3A2%2C%22landing%22%3A%22http%3A//www.wordstream.com/blog/ws/2016/04/28/facebook-conversions%22%2C%22enter_at%22%3A%222016-04-28%7C10%3A31%3A13%22%2C%22first_visit%22%3A%222016-02-17%7C15%3A48%3A27%22%2C%22last_visit%22%3A%222016-02-17%7C15%3A48%3A27%22%2C%22last_variation%22%3A%22%7C23983%22%2C%22utm_source%22%3Afalse%2C%22utm_term%22%3Afalse%2C%22utm_campaign%22%3Afalse%2C%22utm_content%22%3Afalse%2C%22utm_medium%22%3Afalse%7D; SnapABugRef=http%3A%2F%2Flh.wordstream.com%3A8000%2Ffacebook-calculator%20; _gat_UA-6574172-1=1; SnapABugVisit=205#1461769118; _ga=GA1.2.744760278.1455742093; _ga=GA1.3.744760278.1455742093; _mkto_trk=id:622-BHC-517&token:_mch-wordstream.com-1455751923129-81595; __ar_v4=FHKE3HI6TVFN5NRBEXV44D%3A20160525%3A10%7CO6P2RLVZCZHFDM6OLK7VNT%3A20160525%3A14%7CCIHULMWPQJGCNBXJU3G42Y%3A20160525%3A14%7CKYHTK5BGK5BTVP4IOW3UUD%3A20160517%3A7; mktz_client=%7B%22is_returning%22%3A%221%22%2C%22uid%22%3A%221492883882940845333%22%2C%22session%22%3A%22ses618758142ion%22%2C%22views%22%3A1%2C%22referer_url%22%3A%22%22%2C%22referer_domain%22%3A%22%22%2C%22referer_type%22%3A%22direct%22%2C%22visits%22%3A2%2C%22landing%22%3A%22http%3A//www.wordstream.com/blog/ws/2016/04/28/facebook-conversions%22%2C%22enter_at%22%3A%222016-04-28%7C10%3A31%3A13%22%2C%22first_visit%22%3A%222016-02-17%7C15%3A48%3A27%22%2C%22last_visit%22%3A%222016-02-17%7C15%3A48%3A27%22%2C%22last_variation%22%3A%22%7C23983%22%2C%22utm_source%22%3Afalse%2C%22utm_term%22%3Afalse%2C%22utm_campaign%22%3Afalse%2C%22utm_content%22%3Afalse%2C%22utm_medium%22%3Afalse%7D; mktz_ab=%7B%7D; wooTracker=318a461a071e31032a72f05ecddd4a47cf7bc648" -H "Cache-Control: no-cache" -H "Postman-Token: 521734de-619c-8736-1e4b-62e7e6be0eeb" -d '{
#     "emailAddress":"t.brown@wordstream.com",
#     "accountId":"act_483519555167060",
#     "pageId":"905428219518936",
#     "refreshToken":"ARXiFvsIm5px/Px0298ZbLyl6TXwJYGsyMhQ+RUPKU610pxpHuP7mP4p6FDdpmqPPo75Wbp0aVEPC/5rh9qHOxH3mre6z+9wwFjHbIdo4KYfDba05GSweUfsBk+mBAEYoHEks1P5p7gzLv9/QCva6E84IlgGvO2lMmpYn+6/CMRxCNtyKpiTKYxqC7hJ878GUYVdec7fiTgiABS3hyYK2MkUm2uE7XSSrMOBBqdZqfofJlnR",
#     "initializationVector":"J54FO06dmcwNEi4DnVhELQ__",
#     "numVisitors":"1000"
# }' "http://lh.wordstream.com:8000/services/v1/facebook_calculator/request"

# get campaigns performance
# curl -X GET -H "Cache-Control: no-cache" -H "Postman-Token: 680eb25b-2752-d7e9-17e4-7ac0804ba90e" "http://lh.wordstream.com:8000/services/v1/adwords/campaigns_performance/?startDate=20160704&endDate=20160710&summary=true&sortBy=campaignName&order=ASC&status=ALL_BUT_REMOVED&limit=10&offset=0"

# curl -X GET -H "Authorization: Basic QHdzYWRtaW46V1NkZW1vMDE=" -H "Cache-Control: no-cache" -H "Postman-Token: a85b09e1-6441-cec5-5082-591cea700e73" "http://lh.wordstream.com:8000/services/v1/adwords/campaigns_performance/?startDate=20160704&endDate=20160710&summary=true&sortBy=campaignName&order=ASC&status=ALL_BUT_REMOVED&limit=10&offset=0"

# newman run ~/dev/postman/grid.postman_collection.json --folder bing_keywords --reporter-cli-no-summary --reporter-json-export postman-output.json

newman run ~/dev/postman/wordstream_projects.postman_collection.json \
       --folder bing_uurls_alert_api \
       --reporter-cli-no-summary \
       --reporter-json-export \
       postman-output.json
